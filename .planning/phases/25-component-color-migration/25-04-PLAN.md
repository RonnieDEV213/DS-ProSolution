---
phase: 25-component-color-migration
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/admin/automation/agents-table.tsx
  - apps/web/src/components/admin/automation/jobs-table.tsx
  - apps/web/src/components/admin/automation/pairing-requests-table.tsx
  - apps/web/src/components/admin/automation/reject-dialog.tsx
  - apps/web/src/components/admin/collection/sellers-grid.tsx
  - apps/web/src/components/admin/collection/worker-card.tsx
  - apps/web/src/components/admin/collection/worker-detail-view.tsx
  - apps/web/src/components/admin/collection/worker-status-panel.tsx
autonomous: true

must_haves:
  truths:
    - "All automation and worker/seller components render correctly in all 4 themes"
    - "No hardcoded gray-* classes remain in any automation or worker/seller file"
    - "Agent IDs, job IDs, and pairing codes display in monospace with pills"
    - "Worker status cards use theme-harmonized status colors"
    - "Seller grid cards adapt to theme colors"
  artifacts:
    - path: "apps/web/src/components/admin/automation/agents-table.tsx"
      provides: "Migrated agents table with semantic colors and monospace data"
    - path: "apps/web/src/components/admin/collection/sellers-grid.tsx"
      provides: "Migrated seller cards with semantic colors"
  key_links:
    - from: "automation/*-table.tsx"
      to: "globals.css semantic tokens"
      via: "Tailwind utility classes"
      pattern: "text-foreground|bg-muted|border-border|hover:bg-table-row-hover"
---

<objective>
Migrate 8 admin automation and collection worker/seller component files from hardcoded gray-* classes to semantic tokens, with monospace data formatting and theme-harmonized status colors.

Purpose: Automation tables (agents, jobs, pairing requests) are data-dense views showing real-time system status. Worker cards and seller grids are visual dashboards that need strong theme adaptation. These components have high gray-* density (~178 occurrences across 8 files).
Output: 8 files fully migrated to semantic tokens.
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-component-color-migration/25-CONTEXT.md
@.planning/phases/25-component-color-migration/25-RESEARCH.md
@apps/web/src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate automation table and dialog components</name>
  <files>
    apps/web/src/components/admin/automation/agents-table.tsx
    apps/web/src/components/admin/automation/jobs-table.tsx
    apps/web/src/components/admin/automation/pairing-requests-table.tsx
    apps/web/src/components/admin/automation/reject-dialog.tsx
  </files>
  <action>
    Migrate all hardcoded gray-* classes to semantic tokens in these 4 files (~112 occurrences total).

    Apply standard mappings:
    - Primary text → `text-foreground`
    - Secondary/metadata text → `text-muted-foreground`
    - Table headers → `bg-table-header-bg` or `bg-muted`
    - Table row hover → `hover:bg-table-row-hover`
    - Borders → `border-border` or `border-table-border`
    - Interactive hover → `hover:bg-accent`
    - Card/elevated surfaces → `bg-card`
    - Disabled/inactive → `bg-muted text-muted-foreground`

    Apply monospace data formatting:
    - **agents-table.tsx** (~45 occurrences): Agent IDs, browser fingerprints, last seen timestamps, IP addresses → `font-mono text-sm px-1.5 py-0.5 rounded bg-primary/10`. Table headers for data columns → `font-mono`.
    - **jobs-table.tsx** (~20 occurrences): Job IDs, creation timestamps, duration values → monospace pills. Progress percentages → `font-mono`.
    - **pairing-requests-table.tsx** (~40 occurrences): Pairing codes, request timestamps, user emails → monospace pills. Status column should use theme-harmonized status badges.
    - **reject-dialog.tsx** (~7 occurrences): Confirmation dialog — preserve destructive emphasis. Any displayed pairing code or agent ID → monospace.

    Apply status badge theming for agent/job/pairing states:
    - Online/active/approved → `bg-primary/20 text-primary`
    - Offline/idle → `bg-muted text-muted-foreground`
    - Running/processing → `bg-chart-1/20 text-chart-1` (or primary with animation)
    - Failed/rejected/error → `bg-destructive/20 text-destructive`
    - Pending → `bg-chart-4/20 text-chart-4` (amber/warning tone)

    **DO NOT:**
    - Change polling/refresh logic for real-time status updates
    - Modify the reject dialog's confirmation flow
    - Remove any existing animation classes (pulse, spin for loading states)
  </action>
  <verify>
    Run: `grep -c "gray-" apps/web/src/components/admin/automation/*.tsx`
    All counts should be 0.
    Run: `grep -c "font-mono" apps/web/src/components/admin/automation/agents-table.tsx`
    Should show >= 3 matches.
  </verify>
  <done>Zero gray-* classes in all 4 automation files. Agent/job data values use monospace pills. Status indicators use theme-harmonized semantic tokens. Polling and animations preserved.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate collection worker and seller components</name>
  <files>
    apps/web/src/components/admin/collection/sellers-grid.tsx
    apps/web/src/components/admin/collection/worker-card.tsx
    apps/web/src/components/admin/collection/worker-detail-view.tsx
    apps/web/src/components/admin/collection/worker-status-panel.tsx
  </files>
  <action>
    Migrate all hardcoded gray-* classes to semantic tokens in these 4 files (~64 occurrences total).

    Apply standard mappings with card-specific attention:
    - Card backgrounds → `bg-card`
    - Card borders → `border-border`
    - Card hover → `hover:bg-accent` or `hover:border-primary/50`
    - Section backgrounds within cards → `bg-muted`
    - Primary labels → `text-foreground`
    - Metadata → `text-muted-foreground`

    Special considerations:
    - **sellers-grid.tsx** (~26 occurrences): Grid of seller cards — each card likely has bg, border, hover, and nested text colors. Seller names → `text-foreground`. Store URLs, seller IDs → `font-mono text-sm px-1.5 py-0.5 rounded bg-primary/10`. Item counts, collection dates → `font-mono`.
    - **worker-card.tsx** (~15 occurrences): Status card showing worker health — online/offline indicators should use theme-harmonized colors (green dot for online, gray for offline → `bg-primary` for online, `bg-muted-foreground` for offline). Worker ID → monospace.
    - **worker-detail-view.tsx** (~22 occurrences): Detailed worker metrics — performance numbers, error rates, task counts all get monospace pills. Section headers → `text-foreground`. Metric labels → `text-muted-foreground`. Metric values → `font-mono`.
    - **worker-status-panel.tsx** (~1 occurrence): Minimal migration — likely a border or status indicator color.

    Apply monospace data formatting:
    - Worker IDs, seller IDs → monospace pills
    - Performance metrics (items/hour, error rate %) → `font-mono`
    - Timestamps (last active, last collection) → `font-mono text-sm`
    - Item counts, collection counts → `font-mono`

    **DO NOT:**
    - Change grid layout or responsive breakpoints
    - Modify worker polling/refresh logic
    - Break status dot indicators (ensure online/offline dots remain visible)
  </action>
  <verify>
    Run: `grep -c "gray-" apps/web/src/components/admin/collection/sellers-grid.tsx apps/web/src/components/admin/collection/worker-card.tsx apps/web/src/components/admin/collection/worker-detail-view.tsx apps/web/src/components/admin/collection/worker-status-panel.tsx`
    All counts should be 0.
  </verify>
  <done>Zero gray-* classes in all 4 worker/seller files. Worker cards use theme-harmonized status colors. Data metrics use monospace formatting. Grid layout and responsive behavior preserved.</done>
</task>

</tasks>

<verification>
1. `grep -rn "gray-" apps/web/src/components/admin/automation/` returns no results
2. `grep -c "gray-" apps/web/src/components/admin/collection/sellers-grid.tsx apps/web/src/components/admin/collection/worker-card.tsx apps/web/src/components/admin/collection/worker-detail-view.tsx apps/web/src/components/admin/collection/worker-status-panel.tsx` — all 0
3. `npx tsc --noEmit` passes
</verification>

<success_criteria>
- All 8 files have zero hardcoded gray-* classes
- Automation tables show data values in monospace with pills
- Worker cards display status with theme-harmonized colors
- Seller grid cards adapt to all 4 themes
- Real-time update logic (polling, refresh) unaffected
</success_criteria>

<output>
After completion, create `.planning/phases/25-component-color-migration/25-04-SUMMARY.md`
</output>
