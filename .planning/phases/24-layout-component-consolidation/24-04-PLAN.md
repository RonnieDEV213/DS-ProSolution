---
phase: 24-layout-component-consolidation
plan: 04
type: execute
wave: 4
depends_on: ["24-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Admin sidebar shows all 7 nav items with Lucide icons and correct active states"
    - "VA sidebar shows 3 nav items (or 1 for VAs without access profile) with correct active states"
    - "Client sidebar shows 1 nav item with correct active state"
    - "Theme toggle popover works in all 3 sidebars (from Phase 23)"
    - "Profile Settings button opens dialog in all 3 sidebars"
    - "Breadcrumbs appear on sub-pages (e.g., /admin/users) but not on dashboard root"
    - "Cmd+B / Ctrl+B toggles sidebar collapse in all 3 dashboards"
    - "Sidebar collapsed state persists across page navigation"
    - "SyncStatusIndicator visible in Admin sidebar only"
    - "All navigation links work correctly (no broken routes)"
  artifacts: []
  key_links: []
---

<objective>
Human verification of the unified sidebar, breadcrumb navigation, and layout consolidation across all three dashboards (Admin, VA, Client).

Purpose: Confirm that the layout consolidation works correctly end-to-end -- visual appearance, navigation, RBAC behavior, theme toggle, keyboard shortcuts, and state persistence.
Output: Verified Phase 24 implementation.
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-layout-component-consolidation/24-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Unified layout system replacing three duplicate sidebar implementations:
    1. Single AppSidebar component used by Admin, VA, and Client dashboards
    2. Lucide React icons replacing all inline SVGs
    3. Dynamic BreadcrumbNav from route segments
    4. PageHeader component for consistent page titles
    5. Collapsible sidebar with Cmd+B keyboard shortcut and cookie persistence
    6. Theme toggle and Profile Settings preserved in sidebar footer
    7. Semantic color tokens replacing hardcoded grays
  </what-built>
  <how-to-verify>
    Start the dev server: `cd apps/web && npm run dev`

    **1. Admin Dashboard (http://localhost:3000/admin)**
    - [ ] Sidebar shows 7 nav items with Lucide icons (Home, Users, Shield, Folder, UserPlus, BookOpen, Zap)
    - [ ] Click each nav item — page loads correctly and nav item shows active state
    - [ ] Navigate to /admin/users — breadcrumb shows "Admin > Manage Users"
    - [ ] Navigate to /admin/department-roles — breadcrumb shows "Admin > Access Profiles"
    - [ ] Navigate to /admin — breadcrumb disappears (root page)
    - [ ] SyncStatusIndicator visible in sidebar footer
    - [ ] Theme popover works (click Theme in footer, picker appears)
    - [ ] Profile Settings button opens dialog
    - [ ] Press Cmd+B (Mac) or Ctrl+B (Windows) — sidebar collapses
    - [ ] Press again — sidebar expands
    - [ ] While collapsed, navigate to another page — sidebar stays collapsed

    **2. VA Dashboard (http://localhost:3000/va)**
    - [ ] Sidebar shows 3 nav items (Dashboard, Accounts, Order Tracking) with Lucide icons
    - [ ] Active state works correctly on each page
    - [ ] Breadcrumbs work on sub-pages
    - [ ] Theme popover works
    - [ ] Profile Settings works
    - [ ] Cmd+B toggle works

    **3. Client Dashboard (http://localhost:3000/client)**
    - [ ] Sidebar shows 1 nav item (Dashboard) with Home icon
    - [ ] Theme popover works
    - [ ] Profile Settings works
    - [ ] Cmd+B toggle works

    **4. Visual Consistency**
    - [ ] All three dashboards have same sidebar width and styling
    - [ ] No hardcoded gray colors visible (should use theme colors)
    - [ ] Switch themes (Midnight, Dawn, Slate, Carbon) — sidebar adapts to theme
    - [ ] No visual regressions from before the refactor

    **5. Cross-Cutting**
    - [ ] No console errors in browser DevTools
    - [ ] Page transitions are smooth (no flash of unstyled content)
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
Human confirms all verification checklist items pass.
</verification>

<success_criteria>
- All 3 dashboards render correctly with unified sidebar
- Navigation, breadcrumbs, theme toggle, and profile settings all functional
- Sidebar collapse keyboard shortcut works and state persists
- No visual regressions
- No console errors
</success_criteria>

<output>
After completion, create `.planning/phases/24-layout-component-consolidation/24-04-SUMMARY.md`
</output>
