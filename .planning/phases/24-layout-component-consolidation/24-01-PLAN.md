---
phase: 24-layout-component-consolidation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/ui/sidebar.tsx
  - apps/web/src/components/ui/breadcrumb.tsx
  - apps/web/src/types/navigation.ts
  - apps/web/src/lib/navigation.ts
  - apps/web/src/lib/spacing.ts
autonomous: true

must_haves:
  truths:
    - "shadcn/ui sidebar primitives (SidebarProvider, Sidebar, SidebarContent, SidebarMenu, etc.) are importable from @/components/ui/sidebar"
    - "shadcn/ui breadcrumb primitives (Breadcrumb, BreadcrumbItem, BreadcrumbLink, etc.) are importable from @/components/ui/breadcrumb"
    - "NavItem type defines href, label, icon (string), and optional indent properties"
    - "Navigation configs exist for admin (7 items), va (3 items), and client (1 item) roles with correct Lucide icon names"
    - "Spacing constants document page, card, section, form, nav, and header conventions"
  artifacts:
    - path: "apps/web/src/components/ui/sidebar.tsx"
      provides: "shadcn/ui Sidebar primitives with SidebarProvider, collapsible state, cookie persistence, Cmd+B shortcut"
    - path: "apps/web/src/components/ui/breadcrumb.tsx"
      provides: "shadcn/ui Breadcrumb primitives with accessible navigation hierarchy"
    - path: "apps/web/src/types/navigation.ts"
      provides: "NavItem interface for type-safe navigation configuration"
    - path: "apps/web/src/lib/navigation.ts"
      provides: "adminNavItems, vaNavItems, clientNavItems arrays with Lucide icon names"
    - path: "apps/web/src/lib/spacing.ts"
      provides: "SPACING and GAPS constants for consistent UI spacing"
  key_links:
    - from: "apps/web/src/lib/navigation.ts"
      to: "apps/web/src/types/navigation.ts"
      via: "import NavItem type"
      pattern: "import.*NavItem.*from.*types/navigation"
---

<objective>
Install shadcn/ui sidebar and breadcrumb primitives, create navigation types, role-based navigation configs, and spacing convention constants.

Purpose: Establish the foundation layer that all subsequent layout components depend on -- UI primitives, type definitions, and configuration data.
Output: 5 new files providing the building blocks for Phase 24 layout consolidation.
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-layout-component-consolidation/24-RESEARCH.md
@apps/web/components.json
@apps/web/package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn/ui sidebar and breadcrumb primitives</name>
  <files>
    apps/web/src/components/ui/sidebar.tsx
    apps/web/src/components/ui/breadcrumb.tsx
  </files>
  <action>
    Install the shadcn/ui sidebar and breadcrumb components using the shadcn CLI from the `apps/web` directory:

    ```bash
    cd apps/web
    npx shadcn@latest add sidebar
    npx shadcn@latest add breadcrumb
    ```

    The CLI will generate:
    - `src/components/ui/sidebar.tsx` — SidebarProvider, Sidebar, SidebarContent, SidebarHeader, SidebarFooter, SidebarMenu, SidebarMenuItem, SidebarMenuButton, SidebarTrigger, useSidebar, and related primitives. Includes cookie persistence for collapsed state (cookie name: "sidebar:state") and Cmd+B / Ctrl+B keyboard shortcut.
    - `src/components/ui/breadcrumb.tsx` — Breadcrumb, BreadcrumbList, BreadcrumbItem, BreadcrumbLink, BreadcrumbPage, BreadcrumbSeparator, BreadcrumbEllipsis.

    The shadcn CLI may also install additional dependencies (e.g., @radix-ui/react-slot if not present). Accept any dependency installations.

    After installation, verify both files exist and export the expected components. If the CLI also generates or modifies any utility files (like hooks/use-mobile.tsx), keep those as-is.

    IMPORTANT: The project uses `components.json` with style "new-york" and icon library "lucide". The CLI should respect these settings automatically.
  </action>
  <verify>
    - `ls apps/web/src/components/ui/sidebar.tsx` confirms file exists
    - `ls apps/web/src/components/ui/breadcrumb.tsx` confirms file exists
    - `grep "SidebarProvider" apps/web/src/components/ui/sidebar.tsx` finds the export
    - `grep "BreadcrumbList" apps/web/src/components/ui/breadcrumb.tsx` finds the export
    - `cd apps/web && npx tsc --noEmit --pretty 2>&1 | head -20` shows no type errors in new files
  </verify>
  <done>Both shadcn/ui sidebar and breadcrumb primitive files exist and export all required components without type errors.</done>
</task>

<task type="auto">
  <name>Task 2: Create NavItem type, navigation configs, and spacing constants</name>
  <files>
    apps/web/src/types/navigation.ts
    apps/web/src/lib/navigation.ts
    apps/web/src/lib/spacing.ts
  </files>
  <action>
    Create three new files:

    **1. `apps/web/src/types/navigation.ts`** — NavItem interface:
    ```typescript
    export interface NavItem {
      href: string
      label: string
      icon: string  // Lucide React icon name (PascalCase, e.g., "Home", "Users", "Shield")
      indent?: boolean  // For sub-navigation items
    }
    ```

    **2. `apps/web/src/lib/navigation.ts`** — Role-based navigation item arrays:
    ```typescript
    import { NavItem } from "@/types/navigation"

    export const adminNavItems: NavItem[] = [
      { href: "/admin", label: "Dashboard", icon: "Home" },
      { href: "/admin/users", label: "Users", icon: "Users" },
      { href: "/admin/department-roles", label: "Access Profiles", icon: "Shield" },
      { href: "/admin/accounts", label: "Accounts", icon: "Folder" },
      { href: "/admin/invites", label: "Invites", icon: "UserPlus" },
      { href: "/admin/order-tracking", label: "Order Tracking", icon: "BookOpen" },
      { href: "/admin/automation", label: "Extension Hub", icon: "Zap" },
    ]

    export const vaNavItems: NavItem[] = [
      { href: "/va", label: "Dashboard", icon: "Home" },
      { href: "/va/accounts", label: "Accounts", icon: "Building2" },
      { href: "/va/order-tracking", label: "Order Tracking", icon: "BookOpen" },
    ]

    export const clientNavItems: NavItem[] = [
      { href: "/client", label: "Dashboard", icon: "Home" },
    ]
    ```

    Icon name mapping from old inline SVGs to Lucide React:
    - "home" -> "Home"
    - "users-group" -> "Users"
    - "shield" -> "Shield"
    - "folder" -> "Folder"
    - "users" (invites) -> "UserPlus"
    - "book" -> "BookOpen" (BookOpen is better visual match for the open-book SVG used)
    - "bolt" -> "Zap"
    - "accounts" (building) -> "Building2"

    **3. `apps/web/src/lib/spacing.ts`** — Spacing convention constants:
    ```typescript
    /**
     * DS-ProSolution Spacing Conventions
     *
     * Base unit: 4px (Tailwind default)
     * Scale: 0.25rem increments
     *
     * Usage Guidelines:
     * - Page container: Use SPACING.page (p-8 = 32px)
     * - Card interior: Use SPACING.card (p-6 = 24px)
     * - Section spacing: Use SPACING.section (space-y-6 = 24px)
     * - Form fields: Use SPACING.form (gap-4 = 16px)
     * - Navigation: Use SPACING.nav (p-4 = 16px)
     * - Sidebar header/footer: Use SPACING.header (p-6 = 24px)
     */

    export const SPACING = {
      page: "p-8",           // 32px
      card: "p-6",           // 24px
      section: "space-y-6",  // 24px
      form: "gap-4",         // 16px
      nav: "p-4",            // 16px
      header: "p-6",         // 24px
    } as const

    export const GAPS = {
      tight: "gap-2",    // 8px
      normal: "gap-4",   // 16px
      relaxed: "gap-6",  // 24px
      loose: "gap-8",    // 32px
    } as const

    export type SpacingKey = keyof typeof SPACING
    export type GapKey = keyof typeof GAPS
    ```

    Ensure the `types/` directory exists under `apps/web/src/`. Create it if missing (mkdir -p).
  </action>
  <verify>
    - `ls apps/web/src/types/navigation.ts` confirms file exists
    - `ls apps/web/src/lib/navigation.ts` confirms file exists
    - `ls apps/web/src/lib/spacing.ts` confirms file exists
    - `grep "adminNavItems" apps/web/src/lib/navigation.ts` finds the export
    - `grep "SPACING" apps/web/src/lib/spacing.ts` finds the export
    - `cd apps/web && npx tsc --noEmit --pretty 2>&1 | head -20` shows no type errors
  </verify>
  <done>NavItem type is defined and exported. Three navigation config arrays (admin: 7 items, va: 3 items, client: 1 item) are exported with correct Lucide icon names. Spacing constants are documented and exported.</done>
</task>

</tasks>

<verification>
1. All 5 files exist in their expected locations
2. `cd apps/web && npx tsc --noEmit` passes without errors related to new files
3. Navigation items match current sidebar nav items exactly (same hrefs, same labels)
4. Icon names are valid Lucide React component names (PascalCase)
5. `npm run build` in apps/web completes without errors (optional but recommended)
</verification>

<success_criteria>
- shadcn/ui sidebar and breadcrumb primitives installed and importable
- NavItem type provides type-safe navigation configuration
- Admin, VA, and Client navigation configs match existing sidebar items
- Spacing conventions documented as constants
- All files pass TypeScript type checking
</success_criteria>

<output>
After completion, create `.planning/phases/24-layout-component-consolidation/24-01-SUMMARY.md`
</output>
