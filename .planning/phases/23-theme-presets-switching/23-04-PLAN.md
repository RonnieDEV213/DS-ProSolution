---
phase: 23-theme-presets-switching
plan: 04
type: execute
wave: 4
depends_on: ["23-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 4 named themes visually distinct and correctly applied"
    - "Theme picker accessible from both ProfileSettingsDialog and sidebar"
    - "Theme switching produces smooth cross-fade animation"
    - "System theme follows OS preference and updates reactively"
    - "Theme persists across page refresh"
    - "::selection highlights and native form controls match theme accent"
    - "Sonner toasts display correctly in all themes"
  artifacts: []
  key_links: []
---

<objective>
Visual and functional verification of all Phase 23 deliverables: 4 theme presets, picker UI, transitions, system preference detection, persistence, and theme-aware UI elements.

Purpose: Ensures the complete theme system works as intended before marking Phase 23 complete. This is a human verification checkpoint.

Output: Verified or issues identified for gap closure.
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/23-theme-presets-switching/23-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete theme preset system with 4 distinct themes (Midnight, Dawn, Slate, Carbon), system preference detection, smooth cross-fade transitions, theme picker in ProfileSettingsDialog and sidebar popover, ::selection highlights, accent-color for form controls, and Sonner toast theming.
  </what-built>
  <how-to-verify>
**Start the dev server:** `cd apps/web && npm run dev` and open http://localhost:3000

**1. Theme Picker Access (SWITCH-01):**
- Open ProfileSettingsDialog (gear icon in sidebar footer) -> click "Theme" tab
- Verify 5 options shown: System, Midnight, Dawn, Slate, Carbon
- Each option should have a mini UI preview card showing its colors
- Click the Theme popover button in the sidebar footer
- Verify compact list with 5 options and accent color dots

**2. Theme Switching (PRESET-01 through PRESET-04):**
- Switch to each theme and verify visually distinct appearance:
  - **Midnight:** Deep dark with blue undertone, blue accent color. Should feel like Linear dark mode.
  - **Dawn:** Clean white/light mode, indigo accent. Should feel crisp and professional.
  - **Slate:** Dark with warm gray-green undertone, teal accent. Distinct from Midnight.
  - **Carbon:** True black background, bright purple accent. Maximum contrast, OLED-friendly.
- Verify sidebar, main content, cards, borders all respond to each theme

**3. Cross-Fade Transition (SWITCH-02):**
- Switch between any two themes
- Verify smooth ~250ms cross-fade (not instant flash)
- If using Chrome/Edge: should see smooth color transition
- If using Firefox/Safari: instant change is acceptable (progressive enhancement)

**4. System Preference Detection (PRESET-05):**
- Select "System" theme option
- Toggle OS dark/light mode (Windows: Settings -> Personalization -> Colors; macOS: System Preferences -> Appearance)
- Verify app cross-fades to Carbon (OS dark) or Dawn (OS light) reactively

**5. Persistence (PRESET-06):**
- Select a specific theme (e.g., Slate)
- Refresh the page (F5)
- Verify the same theme is applied on reload without flash

**6. Selection Highlights (SWITCH-03):**
- Select some text on the page
- Verify the selection highlight color matches the current theme's accent color
- Switch to a different theme and verify selection color changes

**7. Sonner Toast Theming (SWITCH-04):**
- Trigger a toast notification (e.g., via any action that shows a success/error toast)
- Verify toast uses appropriate light/dark styling matching current theme

**8. Native Form Controls (SWITCH-05):**
- Find any checkbox or form input on the page
- Verify the accent-color matches the theme's primary color
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Human visual and functional verification of all Phase 23 success criteria.
</verification>

<success_criteria>
All 8 verification checks pass, confirming Phase 23 requirements PRESET-01 through PRESET-06 and SWITCH-01 through SWITCH-05 are met.
</success_criteria>

<output>
After completion, create `.planning/phases/23-theme-presets-switching/23-04-SUMMARY.md`
</output>
