---
phase: 04.1-auto-order-tab-organization
plan: 01
subsystem: auth
tags: [permissions, rbac, extension]

# Dependency graph
requires:
  - phase: 04-extension-rbac
    provides: permission-based tab visibility in extension
provides:
  - auto_order.read permission key for department role assignment
  - UI checkbox for auto_order.read in admin department role dialog
affects: [04.1-02, 04.1-03, extension-tab-visibility]

# Tech tracking
tech-stack:
  added: []
  patterns: []

key-files:
  created: []
  modified:
    - apps/api/src/app/permissions.py
    - apps/web/src/components/admin/department-role-dialog.tsx

key-decisions:
  - "auto_order.read follows existing permission naming convention (category.action)"
  - "Auto Order Tab appears first in Ordering Permissions group"

patterns-established: []

# Metrics
duration: 3min
completed: 2026-01-19
---

# Phase 4.1 Plan 1: Auto Order Permission Summary

**Added auto_order.read permission to backend validation and admin department role UI for extension RBAC**

## Performance

- **Duration:** 3 min
- **Started:** 2026-01-19T17:40:00Z
- **Completed:** 2026-01-19T17:43:00Z
- **Tasks:** 2
- **Files modified:** 2

## Accomplishments
- Backend now validates auto_order.read as a valid department role permission
- Admin can assign Auto Order tab access via department role dialog
- Permission appears under "Ordering Permissions" category in UI

## Task Commits

Each task was committed atomically:

1. **Task 1: Add auto_order.read permission to backend** - `7ec3097` (feat)
2. **Task 2: Add auto_order.read to department role dialog** - `08758f8` (feat)

## Files Created/Modified
- `apps/api/src/app/permissions.py` - Added auto_order.read to DEPT_ROLE_PERMISSION_KEYS and PERMISSION_LABELS
- `apps/web/src/components/admin/department-role-dialog.tsx` - Added auto_order.read to AVAILABLE_PERMISSIONS array

## Decisions Made
- auto_order.read follows existing permission naming convention (category.action)
- Auto Order Tab appears first in Ordering Permissions group (primary automation feature)
- Label "Auto Order Tab" matches the tab name in the extension

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered
None

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness
- Permission system ready for extension to check auto_order.read
- Next plan (04.1-02) will reorganize hub layout to use this permission
- Admin can now create department roles with Auto Order access

---
*Phase: 04.1-auto-order-tab-organization*
*Completed: 2026-01-19*
