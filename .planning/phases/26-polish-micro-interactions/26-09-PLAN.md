---
phase: 26-polish-micro-interactions
plan: 09
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/admin/users-table.tsx
  - apps/web/src/components/admin/accounts-table.tsx
  - apps/web/src/components/admin/department-roles-table.tsx
  - apps/web/src/components/admin/invites-list.tsx
  - apps/web/src/components/admin/automation/agents-table.tsx
  - apps/web/src/components/admin/automation/jobs-table.tsx
  - apps/web/src/components/bookkeeping/bookkeeping-content.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Empty state pages show themed SVG illustration + title + description + CTA button"
    - "All table/list components use empty state components instead of plain text"
  artifacts:
    - path: "apps/web/src/components/admin/users-table.tsx"
      provides: "Users table with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/admin/accounts-table.tsx"
      provides: "Accounts table with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/admin/department-roles-table.tsx"
      provides: "Dept roles table with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/admin/invites-list.tsx"
      provides: "Invites list with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/admin/automation/agents-table.tsx"
      provides: "Agents table with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/admin/automation/jobs-table.tsx"
      provides: "Jobs table with FirstTimeEmpty component"
      contains: "FirstTimeEmpty"
    - path: "apps/web/src/components/bookkeeping/bookkeeping-content.tsx"
      provides: "Bookkeeping with FirstTimeEmpty for no-account-selected state"
      contains: "FirstTimeEmpty"
  key_links:
    - from: "apps/web/src/components/admin/users-table.tsx"
      to: "apps/web/src/components/empty-states/first-time-empty.tsx"
      via: "import and render"
      pattern: "FirstTimeEmpty"
    - from: "apps/web/src/components/admin/accounts-table.tsx"
      to: "apps/web/src/components/empty-states/first-time-empty.tsx"
      via: "import and render"
      pattern: "FirstTimeEmpty"
---

<objective>
Integrate empty state components (FirstTimeEmpty, NoResults) into all 7 table and list components that currently show plain text placeholders like "No users found" or "No invites yet".

Purpose: Close the major UAT gap where empty state components were created (Plan 26-04) but never imported or used anywhere in the app. Users see plain text instead of themed SVG illustrations with titles, descriptions, and CTA buttons.
Output: 7 component files updated to import and render appropriate empty state variants.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-polish-micro-interactions/26-04-SUMMARY.md
@apps/web/src/components/empty-states/first-time-empty.tsx
@apps/web/src/components/empty-states/no-results.tsx
@apps/web/src/components/empty-states/empty-state.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Integrate empty states into admin tables (users, accounts, dept-roles, invites)</name>
  <files>
    apps/web/src/components/admin/users-table.tsx
    apps/web/src/components/admin/accounts-table.tsx
    apps/web/src/components/admin/department-roles-table.tsx
    apps/web/src/components/admin/invites-list.tsx
  </files>
  <action>
    For each component, add an import for the appropriate empty state component and replace the plain text empty state rendering.

    **1. users-table.tsx** (line 228-233):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current empty state (inside table body, `users.length === 0` branch):
      ```tsx
      <TableRow>
        <TableCell colSpan={4} className="text-center text-muted-foreground py-8">
          No users found
        </TableCell>
      </TableRow>
      ```
    - Replace with:
      ```tsx
      <TableRow>
        <TableCell colSpan={4} className="py-8">
          <FirstTimeEmpty entityName="users" />
        </TableCell>
      </TableRow>
      ```
    - The FirstTimeEmpty component renders the EmptyBoxIllustration SVG, a "No users yet" title, and a "Get started by creating your first user." description. No CTA is needed because users are created via invites, not a button on this table.

    **2. accounts-table.tsx** (lines 262-269):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - This component has TWO empty state messages depending on `isViewOnly`:
      - ViewOnly (VA): "No accounts assigned to you. Contact an administrator."
      - Admin: "No accounts found. Create one to get started."
    - Replace the entire empty TableRow with:
      ```tsx
      <TableRow>
        <TableCell colSpan={isViewOnly ? 3 : 6} className="py-8">
          <FirstTimeEmpty
            entityName="accounts"
            description={
              isViewOnly
                ? "No accounts assigned to you. Contact an administrator."
                : undefined
            }
          />
        </TableCell>
      </TableRow>
      ```
    - For admin users, the default description "Get started by creating your first account." is appropriate. For VA users, the custom description explains the assignment model. No CTA in either case -- account creation is via the separate "Add Account" button in page header.

    **3. department-roles-table.tsx** (lines 181-186):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current empty state:
      ```tsx
      <TableRow>
        <TableCell colSpan={6} className="text-center text-muted-foreground py-8">
          No access profiles found. Create one to get started.
        </TableCell>
      </TableRow>
      ```
    - Replace with:
      ```tsx
      <TableRow>
        <TableCell colSpan={6} className="py-8">
          <FirstTimeEmpty entityName="access profiles" />
        </TableCell>
      </TableRow>
      ```

    **4. invites-list.tsx** (lines 138-143):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current empty state (NOT inside a table -- it's a standalone div):
      ```tsx
      if (invites.length === 0) {
        return (
          <div className="bg-card rounded-lg border border-border p-8">
            <p className="text-muted-foreground text-center">No invites yet</p>
          </div>
        );
      }
      ```
    - Replace with:
      ```tsx
      if (invites.length === 0) {
        return (
          <div className="bg-card rounded-lg border border-border p-8">
            <FirstTimeEmpty entityName="invites" />
          </div>
        );
      }
      ```
  </action>
  <verify>
    Run `npm run build` from apps/web to confirm no TypeScript or import errors.
    Grep for `FirstTimeEmpty` in all 4 modified files to confirm import and usage.
    Confirm zero instances of plain-text empty messages like "No users found", "No accounts found", "No access profiles found", "No invites yet" in the modified files.
  </verify>
  <done>
    All 4 admin table/list components render FirstTimeEmpty with themed SVG illustration, title, and description instead of plain text empty states.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate empty states into automation tables and bookkeeping content</name>
  <files>
    apps/web/src/components/admin/automation/agents-table.tsx
    apps/web/src/components/admin/automation/jobs-table.tsx
    apps/web/src/components/bookkeeping/bookkeeping-content.tsx
  </files>
  <action>
    **1. agents-table.tsx** (line 214-215):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current empty state (NOT inside a table -- it's a standalone div inside rounded border container):
      ```tsx
      ) : !agents || agents.length === 0 ? (
        <div className="text-center text-muted-foreground py-8">No agents registered</div>
      ) : (
      ```
    - Replace with:
      ```tsx
      ) : !agents || agents.length === 0 ? (
        <div className="py-8">
          <FirstTimeEmpty
            entityName="agents"
            description="No Chrome Extension agents have been registered yet. Pair an extension to get started."
          />
        </div>
      ) : (
      ```

    **2. jobs-table.tsx** (lines 123-128):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current empty state (inside table body):
      ```tsx
      <TableRow>
        <TableCell colSpan={5} className="text-center text-muted-foreground py-8">
          No jobs found
        </TableCell>
      </TableRow>
      ```
    - Replace with:
      ```tsx
      <TableRow>
        <TableCell colSpan={5} className="py-8">
          <FirstTimeEmpty entityName="jobs" />
        </TableCell>
      </TableRow>
      ```

    **3. bookkeeping-content.tsx** (lines 238-241):
    - Add import: `import { FirstTimeEmpty } from "@/components/empty-states/first-time-empty"`
    - Current "no account selected" state:
      ```tsx
      {!selectedAccountId ? (
        <div className="text-center py-16 text-muted-foreground">
          <p className="text-lg">Select an account to view records</p>
        </div>
      ) : (
      ```
    - Replace with:
      ```tsx
      {!selectedAccountId ? (
        <div className="py-16">
          <FirstTimeEmpty
            entityName="records"
            description="Select an account from the dropdown above to view order tracking records."
          />
        </div>
      ) : (
      ```
    - This is not technically a "first time" empty but the EmptyBox illustration + custom description works well for the "no selection" prompt state. The title will read "No records yet" which provides context, and the custom description directs the user to the account selector.
  </action>
  <verify>
    Run `npm run build` from apps/web to confirm no TypeScript or import errors.
    Grep for `FirstTimeEmpty` in all 3 modified files to confirm import and usage.
    Confirm zero instances of plain-text empty messages like "No agents registered", "No jobs found", "Select an account to view records" in modified files.
  </verify>
  <done>
    Agents table, jobs table, and bookkeeping content all render FirstTimeEmpty with themed SVG illustration, title, and description instead of plain text empty states. All 7 components across both tasks now use empty state components.
  </done>
</task>

</tasks>

<verification>
- `npm run build` passes in apps/web with zero errors
- All 7 component files import and render FirstTimeEmpty
- Zero instances of plain-text empty state messages remain in modified components
- Empty states display themed SVG illustration + title + description (with CTA when appropriate)
</verification>

<success_criteria>
Major UAT gap closed: Empty state components (created in Plan 26-04) are now integrated into all table and list components across the application. Users see themed SVG illustrations with descriptive text instead of plain "No items found" text.
</success_criteria>

<output>
After completion, create `.planning/phases/26-polish-micro-interactions/26-09-SUMMARY.md`
</output>
