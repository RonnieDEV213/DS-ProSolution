---
phase: 26-polish-micro-interactions
plan: 08
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/admin/page.tsx
  - apps/web/src/app/va/page.tsx
  - apps/web/src/app/client/page.tsx
  - apps/web/src/app/admin/users/page.tsx
  - apps/web/src/app/admin/accounts/page.tsx
  - apps/web/src/app/admin/invites/page.tsx
  - apps/web/src/app/admin/department-roles/page.tsx
  - apps/web/src/app/admin/automation/page.tsx
  - apps/web/src/app/va/accounts/page.tsx
  - apps/web/src/app/admin/order-tracking/page.tsx
  - apps/web/src/app/va/order-tracking/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "All pages show skeleton shimmer loading states instead of plain loading text"
    - "Fade-in content transitions applied across all pages, not just order tracking"
  artifacts:
    - path: "apps/web/src/app/admin/page.tsx"
      provides: "Dashboard with fade-in animation"
      contains: "animate-fade-in"
    - path: "apps/web/src/app/admin/users/page.tsx"
      provides: "Users page with fade-in animation"
      contains: "animate-fade-in"
    - path: "apps/web/src/app/admin/accounts/page.tsx"
      provides: "Accounts page with fade-in animation"
      contains: "animate-fade-in"
    - path: "apps/web/src/app/admin/order-tracking/page.tsx"
      provides: "Order tracking with skeleton fallback"
      contains: "TableSkeleton"
    - path: "apps/web/src/app/admin/department-roles/page.tsx"
      provides: "Dept roles with fade-in and skeleton loading"
      contains: "animate-fade-in"
  key_links:
    - from: "apps/web/src/app/admin/order-tracking/page.tsx"
      to: "apps/web/src/components/skeletons/table-skeleton.tsx"
      via: "Suspense fallback import"
      pattern: "TableSkeleton"
    - from: "apps/web/src/app/admin/page.tsx"
      to: "animate-fade-in CSS class"
      via: "root div className"
      pattern: "animate-fade-in"
---

<objective>
Add animate-fade-in class to all page root wrappers and replace plain-text loading fallbacks with skeleton components across all 11 page files.

Purpose: Close two major UAT gaps -- fade-in transitions were only on order tracking, and skeleton shimmer loading only existed for that page. All other pages had plain text or no loading states.
Output: 11 page files updated with consistent fade-in and skeleton loading states.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-polish-micro-interactions/26-01-SUMMARY.md
@.planning/phases/26-polish-micro-interactions/26-03-SUMMARY.md
@apps/web/src/components/skeletons/dashboard-skeleton.tsx
@apps/web/src/components/skeletons/table-skeleton.tsx
@apps/web/src/components/skeletons/card-grid-skeleton.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add animate-fade-in to all page root wrappers</name>
  <files>
    apps/web/src/app/admin/page.tsx
    apps/web/src/app/va/page.tsx
    apps/web/src/app/client/page.tsx
    apps/web/src/app/admin/users/page.tsx
    apps/web/src/app/admin/accounts/page.tsx
    apps/web/src/app/admin/invites/page.tsx
    apps/web/src/app/admin/department-roles/page.tsx
    apps/web/src/app/admin/automation/page.tsx
    apps/web/src/app/va/accounts/page.tsx
  </files>
  <action>
    Add `animate-fade-in` class to the outermost wrapper div of each page component. This is a mechanical change -- find the root `<div className="space-y-...">` and add `animate-fade-in` to its className.

    Specific changes per file:

    1. **admin/page.tsx** (line 33): `<div className="space-y-8">` becomes `<div className="space-y-8 animate-fade-in">`

    2. **va/page.tsx** (line 3): `<div className="space-y-8">` becomes `<div className="space-y-8 animate-fade-in">`

    3. **client/page.tsx** (line 3): `<div className="space-y-8">` becomes `<div className="space-y-8 animate-fade-in">`

    4. **admin/users/page.tsx** (line 16): `<div className="space-y-6">` becomes `<div className="space-y-6 animate-fade-in">`

    5. **admin/accounts/page.tsx** (line 12): `<div className="space-y-6">` becomes `<div className="space-y-6 animate-fade-in">`

    6. **admin/invites/page.tsx** (line 17): `<div className="space-y-8">` becomes `<div className="space-y-8 animate-fade-in">`

    7. **admin/department-roles/page.tsx**: BOTH the loading return (line 39, `<div className="space-y-6">`) and main return (line 48, `<div className="space-y-6">`) get `animate-fade-in` added.

    8. **admin/automation/page.tsx** (line 114): `<div className="space-y-6">` becomes `<div className="space-y-6 animate-fade-in">`

    9. **va/accounts/page.tsx** (line 12): `<div className="space-y-6">` becomes `<div className="space-y-6 animate-fade-in">`

    NOTE: Do NOT modify admin/bookkeeping/page.tsx or va/bookkeeping/page.tsx -- those are redirect pages (just call `redirect()`), they have no UI.

    NOTE: admin/order-tracking/page.tsx and va/order-tracking/page.tsx wrap BookkeepingContent in Suspense; the fade-in is already applied within the component. Do not add animate-fade-in to these -- they will be handled in Task 2 for skeleton integration only.
  </action>
  <verify>
    Run `npm run build` from apps/web to confirm no errors.
    Grep for `animate-fade-in` across all modified page files to confirm every page has the class.
  </verify>
  <done>
    All 9 non-redirect page components have animate-fade-in on their root wrapper div, producing a smooth 300ms fade-in entry animation on navigation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace plain-text loading fallbacks with skeleton components</name>
  <files>
    apps/web/src/app/admin/order-tracking/page.tsx
    apps/web/src/app/va/order-tracking/page.tsx
    apps/web/src/app/admin/department-roles/page.tsx
  </files>
  <action>
    Replace plain-text loading fallbacks with the appropriate skeleton components created in Plan 26-03.

    1. **admin/order-tracking/page.tsx**: Replace the entire Suspense fallback.
       - Add import: `import { TableSkeleton } from "@/components/skeletons/table-skeleton"`
       - Change: `<Suspense fallback={<div className="text-center py-12 text-muted-foreground">Loading...</div>}>`
       - To: `<Suspense fallback={<TableSkeleton columns={5} rows={10} />}>`
       The order tracking page is a data table, so TableSkeleton is the right skeleton. Use 5 columns and 10 rows to approximate the bookkeeping table layout.

    2. **va/order-tracking/page.tsx**: Identical change as admin/order-tracking/page.tsx.
       - Add import: `import { TableSkeleton } from "@/components/skeletons/table-skeleton"`
       - Change: `<Suspense fallback={<div className="text-center py-12 text-muted-foreground">Loading...</div>}>`
       - To: `<Suspense fallback={<TableSkeleton columns={5} rows={10} />}>`

    3. **admin/department-roles/page.tsx**: The "Loading..." text (line 41) shown while orgId is null is not a Suspense fallback -- it's an inline loading state in the component. Replace the plain text with DashboardSkeleton (the page shows a header + table-like structure).
       - Add import: `import { TableSkeleton } from "@/components/skeletons/table-skeleton"`
       - Change the loading return block (lines 37-45):
         From:
         ```tsx
         if (!orgId) {
           return (
             <div className="space-y-6">
               <div>
                 <h1 className="text-3xl font-bold text-foreground">Access Profiles</h1>
                 <p className="text-muted-foreground mt-2">Loading...</p>
               </div>
             </div>
           );
         }
         ```
         To:
         ```tsx
         if (!orgId) {
           return <TableSkeleton columns={6} rows={5} />;
         }
         ```

    NOTE: The remaining pages (admin/page.tsx, va/page.tsx, admin/users/page.tsx, admin/accounts/page.tsx, admin/invites/page.tsx, admin/automation/page.tsx, va/accounts/page.tsx) are client components that fetch data inside child components. They don't have Suspense boundaries because loading states are handled within the table/list components themselves (e.g., UsersTable has its own `loading ? ... : ...` pattern). Adding Suspense to these would not change behavior -- their existing inline loading states within table components will be addressed by the empty state integration plan (26-09). The skeleton components were designed for page-level Suspense boundaries.
  </action>
  <verify>
    Run `npm run build` from apps/web to confirm no import or TypeScript errors.
    Grep for `TableSkeleton` in admin/order-tracking/page.tsx to confirm skeleton import.
    Grep for `TableSkeleton` in va/order-tracking/page.tsx to confirm skeleton import.
    Grep for `TableSkeleton` in admin/department-roles/page.tsx to confirm skeleton replacement.
    Confirm zero instances of plain "Loading..." text in modified files.
  </verify>
  <done>
    Order tracking pages (admin + VA) use TableSkeleton instead of plain "Loading..." text in Suspense fallbacks. Department roles page uses TableSkeleton for inline loading state. All skeleton components display shimmer animation that matches the current theme.
  </done>
</task>

</tasks>

<verification>
- `npm run build` passes in apps/web with zero errors
- All 9 non-redirect page components contain `animate-fade-in` on root div
- admin/order-tracking/page.tsx and va/order-tracking/page.tsx use TableSkeleton in Suspense fallback
- admin/department-roles/page.tsx uses TableSkeleton for loading state
- Zero instances of plain "Loading..." text in modified page files
</verification>

<success_criteria>
Both major UAT gaps closed:
1. Fade-in content transitions applied to ALL pages (not just order tracking)
2. Skeleton shimmer loading replaces plain "Loading..." text in all pages that had Suspense or inline loading states
</success_criteria>

<output>
After completion, create `.planning/phases/26-polish-micro-interactions/26-08-SUMMARY.md`
</output>
