---
phase: 26-polish-micro-interactions
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/empty-states/empty-state.tsx
  - apps/web/src/components/empty-states/illustrations.tsx
  - apps/web/src/components/empty-states/no-results.tsx
  - apps/web/src/components/empty-states/first-time-empty.tsx
  - apps/web/src/components/empty-states/error-empty.tsx
  - apps/web/src/components/empty-states/filtered-empty.tsx
autonomous: true

must_haves:
  truths:
    - "Empty state component renders illustration + message + optional CTA"
    - "Four contextual variants exist: no-results, first-time, error, filtered"
    - "SVG illustrations are inline (no external dependencies)"
    - "Professional, business-appropriate messaging tone"
    - "Empty states are theme-aware (use semantic color tokens)"
  artifacts:
    - path: "apps/web/src/components/empty-states/empty-state.tsx"
      provides: "Base EmptyState layout component"
      exports: ["EmptyState"]
    - path: "apps/web/src/components/empty-states/illustrations.tsx"
      provides: "Inline SVG illustrations for empty states"
      exports: ["SearchIllustration", "EmptyBoxIllustration", "ErrorIllustration", "FilterIllustration"]
    - path: "apps/web/src/components/empty-states/no-results.tsx"
      provides: "Search returned no results"
      exports: ["NoResults"]
    - path: "apps/web/src/components/empty-states/first-time-empty.tsx"
      provides: "First-time empty collection"
      exports: ["FirstTimeEmpty"]
    - path: "apps/web/src/components/empty-states/error-empty.tsx"
      provides: "Error occurred loading data"
      exports: ["ErrorEmpty"]
    - path: "apps/web/src/components/empty-states/filtered-empty.tsx"
      provides: "Active filters returned no results"
      exports: ["FilteredEmpty"]
  key_links:
    - from: "empty-state.tsx"
      to: "illustrations.tsx"
      via: "SVG components as children"
      pattern: "Illustration"
---

<objective>
Create empty state components with custom SVG illustrations for all data-empty scenarios across the application.

Purpose: Replace blank pages/areas with helpful, professional empty states (POLISH-07) that guide users to take action or understand why content is missing.

Output: Base EmptyState component, 4 SVG illustrations, 4 contextual empty state variants (no-results, first-time, error, filtered).
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@apps/web/src/components/ui/button.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create base EmptyState component and inline SVG illustrations</name>
  <files>apps/web/src/components/empty-states/empty-state.tsx, apps/web/src/components/empty-states/illustrations.tsx</files>
  <action>
1. **Create `apps/web/src/components/empty-states/empty-state.tsx`** - Base layout component:

```tsx
import * as React from "react"
import { cn } from "@/lib/utils"

interface EmptyStateProps {
  illustration?: React.ReactNode
  title: string
  description?: string
  action?: React.ReactNode
  className?: string
}

export function EmptyState({
  illustration,
  title,
  description,
  action,
  className,
}: EmptyStateProps) {
  return (
    <div
      className={cn(
        "flex flex-col items-center justify-center py-16 px-4 text-center animate-fade-in",
        className
      )}
    >
      {illustration && (
        <div className="mb-6 text-muted-foreground/40">
          {illustration}
        </div>
      )}
      <h3 className="text-lg font-semibold text-foreground">
        {title}
      </h3>
      {description && (
        <p className="mt-2 max-w-md text-sm text-muted-foreground">
          {description}
        </p>
      )}
      {action && (
        <div className="mt-6">
          {action}
        </div>
      )}
    </div>
  )
}
```

Design decisions:
- `py-16` provides generous vertical spacing for visual presence
- `animate-fade-in` uses the CSS class from Plan 01 for smooth entry
- Illustration uses `text-muted-foreground/40` for subtle, non-distracting SVGs
- Title is `text-foreground` (prominent), description is `text-muted-foreground` (secondary)
- Action slot accepts any ReactNode (typically a Button component)
- All colors are semantic tokens (theme-aware)

2. **Create `apps/web/src/components/empty-states/illustrations.tsx`** - Custom inline SVGs:

Create 4 minimalist SVG illustrations that work across all themes. Each SVG uses `currentColor` to inherit from the parent's text color class.

```tsx
interface IllustrationProps {
  className?: string
  size?: number
}

export function SearchIllustration({ className, size = 120 }: IllustrationProps) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 120 120"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      {/* Magnifying glass with no results */}
      <circle cx="52" cy="52" r="30" stroke="currentColor" strokeWidth="3" strokeLinecap="round" />
      <line x1="74" y1="74" x2="100" y2="100" stroke="currentColor" strokeWidth="3" strokeLinecap="round" />
      <line x1="40" y1="45" x2="64" y2="45" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
      <line x1="40" y1="52" x2="58" y2="52" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
      <line x1="40" y1="59" x2="52" y2="59" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
    </svg>
  )
}

export function EmptyBoxIllustration({ className, size = 120 }: IllustrationProps) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 120 120"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      {/* Open box */}
      <path d="M30 50 L60 35 L90 50 L60 65 Z" stroke="currentColor" strokeWidth="2.5" strokeLinejoin="round" />
      <path d="M30 50 L30 80 L60 95 L60 65" stroke="currentColor" strokeWidth="2.5" strokeLinejoin="round" />
      <path d="M90 50 L90 80 L60 95 L60 65" stroke="currentColor" strokeWidth="2.5" strokeLinejoin="round" />
      {/* Flap lines */}
      <path d="M30 50 L45 38" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
      <path d="M90 50 L75 38" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
    </svg>
  )
}

export function ErrorIllustration({ className, size = 120 }: IllustrationProps) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 120 120"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      {/* Warning triangle */}
      <path d="M60 25 L95 90 L25 90 Z" stroke="currentColor" strokeWidth="2.5" strokeLinejoin="round" />
      <line x1="60" y1="50" x2="60" y2="68" stroke="currentColor" strokeWidth="3" strokeLinecap="round" />
      <circle cx="60" cy="78" r="2.5" fill="currentColor" />
    </svg>
  )
}

export function FilterIllustration({ className, size = 120 }: IllustrationProps) {
  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 120 120"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
    >
      {/* Funnel with no output */}
      <path d="M25 35 L95 35 L68 65 L68 85 L52 95 L52 65 Z" stroke="currentColor" strokeWidth="2.5" strokeLinejoin="round" />
      {/* X mark below funnel */}
      <line x1="50" y1="100" x2="70" y2="100" stroke="currentColor" strokeWidth="2" strokeLinecap="round" opacity="0.5" />
    </svg>
  )
}
```

SVG design principles:
- All use `currentColor` (inherits from parent's Tailwind text color)
- Minimalist line art style (consistent, professional)
- 120x120 default viewBox with configurable size prop
- No fills (stroke only) for minimal visual weight
- `opacity="0.5"` on detail strokes for visual hierarchy
- No external dependencies or image files needed
  </action>
  <verify>
Run `npm run build` in apps/web. Verify empty-state.tsx exports EmptyState and illustrations.tsx exports all 4 SVG components. Check TypeScript compiles clean.
  </verify>
  <done>
Base EmptyState component renders illustration + title + description + action. Four inline SVG illustrations created (Search, EmptyBox, Error, Filter) using currentColor for theme compatibility.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create contextual empty state variants</name>
  <files>apps/web/src/components/empty-states/no-results.tsx, apps/web/src/components/empty-states/first-time-empty.tsx, apps/web/src/components/empty-states/error-empty.tsx, apps/web/src/components/empty-states/filtered-empty.tsx</files>
  <action>
Create 4 contextual empty state components that compose EmptyState + illustrations for specific scenarios:

1. **`no-results.tsx`** - Search returned no results:

```tsx
import { EmptyState } from "./empty-state"
import { SearchIllustration } from "./illustrations"

interface NoResultsProps {
  searchTerm?: string
  className?: string
}

export function NoResults({ searchTerm, className }: NoResultsProps) {
  return (
    <EmptyState
      illustration={<SearchIllustration />}
      title="No results found"
      description={
        searchTerm
          ? `No results match "${searchTerm}". Try a different search term.`
          : "No results match your search. Try adjusting your query."
      }
      className={className}
    />
  )
}
```

2. **`first-time-empty.tsx`** - Empty collection, first use:

```tsx
import { EmptyState } from "./empty-state"
import { EmptyBoxIllustration } from "./illustrations"
import { Button } from "@/components/ui/button"

interface FirstTimeEmptyProps {
  entityName: string       // e.g., "orders", "accounts", "users"
  actionLabel?: string     // e.g., "Create Order", "Add Account"
  onAction?: () => void    // CTA click handler
  description?: string     // Custom description override
  className?: string
}

export function FirstTimeEmpty({
  entityName,
  actionLabel,
  onAction,
  description,
  className,
}: FirstTimeEmptyProps) {
  return (
    <EmptyState
      illustration={<EmptyBoxIllustration />}
      title={`No ${entityName} yet`}
      description={description ?? `Get started by creating your first ${entityName.replace(/s$/, "")}.`}
      action={
        actionLabel && onAction ? (
          <Button onClick={onAction}>{actionLabel}</Button>
        ) : undefined
      }
      className={className}
    />
  )
}
```

3. **`error-empty.tsx`** - Error loading data:

```tsx
import { EmptyState } from "./empty-state"
import { ErrorIllustration } from "./illustrations"
import { Button } from "@/components/ui/button"

interface ErrorEmptyProps {
  message?: string
  onRetry?: () => void
  className?: string
}

export function ErrorEmpty({ message, onRetry, className }: ErrorEmptyProps) {
  return (
    <EmptyState
      illustration={<ErrorIllustration />}
      title="Something went wrong"
      description={message ?? "We couldn't load this data. Please try again."}
      action={
        onRetry ? (
          <Button variant="outline" onClick={onRetry}>
            Try Again
          </Button>
        ) : undefined
      }
      className={className}
    />
  )
}
```

4. **`filtered-empty.tsx`** - Active filters returned no results:

```tsx
import { EmptyState } from "./empty-state"
import { FilterIllustration } from "./illustrations"
import { Button } from "@/components/ui/button"

interface FilteredEmptyProps {
  onClearFilters?: () => void
  className?: string
}

export function FilteredEmpty({ onClearFilters, className }: FilteredEmptyProps) {
  return (
    <EmptyState
      illustration={<FilterIllustration />}
      title="No matching results"
      description="No items match your current filters. Try adjusting or clearing your filters."
      action={
        onClearFilters ? (
          <Button variant="outline" onClick={onClearFilters}>
            Clear Filters
          </Button>
        ) : undefined
      }
      className={className}
    />
  )
}
```

Design decisions per context phase discussion:
- **CTA buttons present when user can directly resolve the state:**
  - FirstTimeEmpty: CTA to create (when actionLabel + onAction provided)
  - ErrorEmpty: CTA to retry (when onRetry provided)
  - FilteredEmpty: CTA to clear filters (when onClearFilters provided)
  - NoResults: No CTA (user adjusts their search query directly)
- **Professional tone:** "No results found" not "Oops!" or "Nothing here!"
- **entityName parameter** on FirstTimeEmpty allows reuse across orders, accounts, users, etc.
- All use `animate-fade-in` via EmptyState base for entry animation
  </action>
  <verify>
Run `npm run build` in apps/web. Verify all 4 contextual empty state files exist and export their components. Check TypeScript compiles clean.
  </verify>
  <done>
Four contextual empty states created: NoResults (with optional searchTerm), FirstTimeEmpty (with CTA), ErrorEmpty (with retry), FilteredEmpty (with clear filters). All use inline SVG illustrations and professional messaging.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes with no errors
2. 6 files created in `apps/web/src/components/empty-states/`
3. Base EmptyState accepts illustration, title, description, action props
4. All SVGs use currentColor (theme-compatible)
5. CTA buttons appear only when handlers are provided
6. All empty states use semantic color tokens
</verification>

<success_criteria>
- Four distinct empty state variants cover all data-empty scenarios
- Professional, helpful messaging guides users
- Inline SVG illustrations are theme-aware (no external dependencies)
- CTA buttons present where users can take direct action
- Components are reusable with configurable entity names and handlers
</success_criteria>

<output>
After completion, create `.planning/phases/26-polish-micro-interactions/26-04-SUMMARY.md`
</output>
