---
phase: 26-polish-micro-interactions
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/globals.css
  - apps/web/src/components/ui/button.tsx
  - apps/web/src/components/ui/card.tsx
autonomous: true

must_haves:
  truths:
    - "Buttons show subtle scale-down on press (active state)"
    - "Cards show elevated shadow on hover"
    - "All animations respect prefers-reduced-motion"
    - "Shimmer keyframe animation exists for skeleton loading"
    - "Focus rings are consistent across all interactive elements"
    - "Sidebar nav items have hover/active transitions (POLISH-01 â€” verified pre-existing in SidebarMenuButton)"
  artifacts:
    - path: "apps/web/src/app/globals.css"
      provides: "Shimmer keyframe, reduced-motion rules, focus ring consistency"
      contains: "@keyframes shimmer"
    - path: "apps/web/src/components/ui/button.tsx"
      provides: "Active press feedback"
      contains: "active:scale"
    - path: "apps/web/src/components/ui/card.tsx"
      provides: "Hover shadow elevation"
      contains: "hover:shadow"
    - path: "apps/web/src/components/ui/sidebar.tsx"
      provides: "Sidebar nav hover/active transitions (POLISH-01, pre-existing)"
      contains: "hover:bg-sidebar-accent"
  key_links:
    - from: "globals.css"
      to: "all components"
      via: "CSS cascade"
      pattern: "skeleton-shimmer"
---

<objective>
Add CSS micro-interactions, transition polish, and foundational animation infrastructure to existing UI components.

Purpose: Establish the tactile, responsive feel across all interactive elements (POLISH-01, 02, 03, 05, 08) and create the shimmer animation foundation that skeleton components will use.

POLISH-01 (sidebar nav transitions) status: ALREADY SATISFIED. The shadcn/ui `SidebarMenuButton` in `apps/web/src/components/ui/sidebar.tsx` (line 530) already includes `hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`, `active:bg-sidebar-accent active:text-sidebar-accent-foreground`, and `data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground` in its cva base string, along with `transition-[width,height,padding]`. No modifications to sidebar components needed.

Output: Updated globals.css with shimmer keyframe + reduced-motion rules, button.tsx with press feedback, card.tsx with hover elevation. All transitions GPU-accelerated (transform, opacity only).
</objective>

<execution_context>
@C:\Users\User\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\User\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@apps/web/src/app/globals.css
@apps/web/src/components/ui/button.tsx
@apps/web/src/components/ui/card.tsx
@apps/web/src/components/ui/dialog.tsx
@apps/web/src/components/ui/sidebar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add shimmer keyframe, transition utilities, and reduced-motion rules to globals.css</name>
  <files>apps/web/src/app/globals.css</files>
  <action>
Add the following CSS to globals.css AFTER the existing view transition styles:

1. **Shimmer keyframe animation** for skeleton loading:
```css
/* ============================================
   Skeleton shimmer animation
   POLISH-06: CSS gradient shimmer (not pulse)
   ============================================ */

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    var(--muted) 0%,
    oklch(from var(--muted) calc(l + 0.08) c h) 50%,
    var(--muted) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}
```

2. **Reduced-motion support** for all Phase 26 animations:
```css
/* ============================================
   Reduced motion: disable animations globally
   POLISH-08: Accessibility compliance
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .skeleton-shimmer {
    animation: none;
    background: var(--muted);
  }

  .transition-shadow {
    transition: none;
  }
}
```

3. **Content fade-in utility** for data loading:
```css
/* ============================================
   Content fade-in for data loading transitions
   POLISH-04: Page/content transitions
   ============================================ */

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 300ms ease-out both;
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade-in {
    animation: none;
  }
}
```

Important constraints:
- Place all new CSS AFTER existing view transition styles (after line ~427)
- Use oklch() color functions consistent with existing theme tokens
- Use `var(--muted)` as the skeleton base color (theme-aware)
- The shimmer highlight uses `calc(l + 0.08)` to lighten slightly relative to muted
- All animations must have prefers-reduced-motion fallbacks
  </action>
  <verify>
Run `npm run build` in apps/web to ensure no CSS syntax errors. Use grep to confirm `@keyframes shimmer` and `@keyframes fade-in` exist in globals.css. Verify `prefers-reduced-motion` appears at least twice (one for shimmer, one for fade-in). No CSS errors in build output.
  </verify>
  <done>
globals.css contains @keyframes shimmer, .skeleton-shimmer class, @keyframes fade-in, .animate-fade-in class, and all prefers-reduced-motion fallbacks. No CSS errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add press feedback to button.tsx and hover elevation to card.tsx</name>
  <files>apps/web/src/components/ui/button.tsx, apps/web/src/components/ui/card.tsx</files>
  <action>
**button.tsx (POLISH-03):**
In the `buttonVariants` cva base string, add `active:scale-[0.98]` for press feedback. The existing base string already has `transition-all`, so no extra transition needed.

Current base string starts with:
```
"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 ..."
```

Add `active:scale-[0.98]` right after `transition-all`:
```
"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all active:scale-[0.98] disabled:pointer-events-none disabled:opacity-50 ..."
```

This ensures:
- All button variants get press feedback
- Disabled buttons are excluded (pointer-events-none)
- The transform is GPU-accelerated (no layout thrashing)
- 150ms ease transition via existing transition-all

**card.tsx (POLISH-02):**
In the Card component's className, add `transition-shadow hover:shadow-md` to create hover elevation effect.

Current className:
```
"rounded-lg border bg-card text-card-foreground shadow-sm"
```

Updated className:
```
"rounded-lg border bg-card text-card-foreground shadow-sm transition-shadow hover:shadow-md"
```

This ensures:
- Smooth shadow transition on hover (Tailwind default 150ms)
- Only shadow property transitions (no layout cost)
- Base shadow-sm elevates to shadow-md on hover (subtle, not dramatic)

Both changes are CSS-only, GPU-accelerated (transform for button, box-shadow for card), and respect the existing component API with no behavioral changes.
  </action>
  <verify>
Run `npm run build` in apps/web. Use grep to confirm button.tsx contains `active:scale-[0.98]` and card.tsx contains `transition-shadow hover:shadow-md`. Also grep `apps/web/src/components/ui/sidebar.tsx` for `hover:bg-sidebar-accent` and `active:bg-sidebar-accent` to confirm POLISH-01 sidebar transitions already exist.
  </verify>
  <done>
Buttons show scale-down effect on active press. Cards show elevated shadow on hover. Both transitions are smooth and GPU-accelerated. Sidebar nav transitions confirmed already present in SidebarMenuButton (POLISH-01 verified).
  </done>
</task>

</tasks>

<verification>
1. `npm run build` in apps/web passes with no errors
2. globals.css contains @keyframes shimmer with theme-aware colors
3. globals.css contains @keyframes fade-in
4. globals.css contains @media (prefers-reduced-motion: reduce) blocks for all new animations
5. button.tsx base cva string includes `active:scale-[0.98]`
6. card.tsx Card component includes `transition-shadow hover:shadow-md`
</verification>

<success_criteria>
- All interactive elements have CSS transition polish
- Shimmer animation infrastructure ready for skeleton components
- Fade-in animation ready for content loading
- Full prefers-reduced-motion compliance
- Zero runtime JS added (pure CSS)
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/26-polish-micro-interactions/26-01-SUMMARY.md`
</output>
