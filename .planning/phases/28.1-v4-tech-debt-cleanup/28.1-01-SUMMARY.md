---
phase: 28.1-v4-tech-debt-cleanup
plan: 01
subsystem: ui
tags: [breadcrumb, navigation, dead-code, tech-debt, cleanup]

# Dependency graph
requires:
  - phase: 24-layout-component-consolidation
    provides: breadcrumb-nav, navigation config, sidebar sections
  - phase: 26-polish-micro-interactions
    provides: card-grid-skeleton, spacing conventions
  - phase: 27-sidebar-folder-reorganization
    provides: modal consolidation of Access Profiles/Invites
provides:
  - Clean navigation config without deprecated flat exports
  - Consistent Automation Hub naming across breadcrumb/sidebar/PageHeader
  - No orphaned page routes for deleted features
affects: []

# Tech tracking
tech-stack:
  added: []
  patterns: []

key-files:
  created: []
  modified:
    - apps/web/src/components/layout/breadcrumb-nav.tsx
    - apps/web/src/lib/navigation.ts

key-decisions:
  - "Cleared .next/types cache after route deletion (Next.js caches route type declarations)"

patterns-established: []

# Metrics
duration: 2min
completed: 2026-01-27
---

# Phase 28.1 Plan 01: V4 Tech Debt Cleanup Summary

**Removed 4 dead code artifacts and fixed automation breadcrumb naming inconsistency from v4 milestone audit**

## Performance

- **Duration:** 2 min
- **Started:** 2026-01-27T22:35:25Z
- **Completed:** 2026-01-27T22:37:43Z
- **Tasks:** 2
- **Files modified:** 2 modified, 4 deleted

## Accomplishments
- Fixed breadcrumb label for /admin/automation from "Collection" to "Automation Hub" (consistent with sidebar section and PageHeader)
- Deleted lib/spacing.ts (dead code, zero imports) and card-grid-skeleton.tsx (speculative component never wired in)
- Deleted orphaned /admin/department-roles and /admin/invites pages (consolidated to modals in Phase 27)
- Removed deprecated flat nav exports (adminNavItems, vaNavItems, clientNavItems) from navigation.ts
- Removed dead breadcrumb labels for deleted routes (department-roles, invites)

## Task Commits

Each task was committed atomically:

1. **Task 1: Fix naming inconsistency and remove dead code files** - `ceb951a` (chore)
2. **Task 2: Remove orphaned pages and deprecated navigation exports** - `987dcf7` (chore)

## Files Created/Modified
- `apps/web/src/components/layout/breadcrumb-nav.tsx` - Fixed automation label to "Automation Hub", removed dead route labels
- `apps/web/src/lib/navigation.ts` - Removed deprecated flat exports (adminNavItems, vaNavItems, clientNavItems)
- `apps/web/src/lib/spacing.ts` - **DELETED** (dead code, zero imports)
- `apps/web/src/components/skeletons/card-grid-skeleton.tsx` - **DELETED** (speculative, never imported)
- `apps/web/src/app/admin/department-roles/page.tsx` - **DELETED** (orphaned, now modal on Users page)
- `apps/web/src/app/admin/invites/page.tsx` - **DELETED** (orphaned, now modal on Users page)

## Decisions Made
- Cleared .next/types cache after deleting page routes (Next.js validator.ts caches route type declarations that cause stale TS errors until cache is cleared or dev server rebuilds)

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered
- After deleting department-roles and invites page files, TypeScript reported errors from `.next/types/validator.ts` which caches type declarations for Next.js routes. Resolved by clearing the `.next/types` directory. This is expected Next.js behavior when routes are deleted outside of the dev server.

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness
- All 4 v4 tech debt items from the milestone audit are resolved
- Codebase is clean with zero dead exports, zero orphaned pages, and consistent naming
- No blockers for any future work

---
*Phase: 28.1-v4-tech-debt-cleanup*
*Completed: 2026-01-27*
