---
phase: 28.1-v4-tech-debt-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/components/layout/breadcrumb-nav.tsx
  - apps/web/src/app/admin/automation/page.tsx
  - apps/web/src/lib/spacing.ts
  - apps/web/src/components/skeletons/card-grid-skeleton.tsx
  - apps/web/src/lib/navigation.ts
  - apps/web/src/app/admin/department-roles/page.tsx
  - apps/web/src/app/admin/invites/page.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Breadcrumb for /admin/automation displays 'Automation Hub' matching the PageHeader title"
    - "No route exists for /admin/department-roles or /admin/invites (404 or redirect)"
    - "No dead exports remain in lib/spacing.ts, lib/navigation.ts, or skeletons/"
    - "Application compiles with zero TypeScript errors after all removals"
  artifacts:
    - path: "apps/web/src/components/layout/breadcrumb-nav.tsx"
      provides: "Corrected breadcrumb label for automation segment"
      contains: "automation.*Automation Hub"
    - path: "apps/web/src/lib/navigation.ts"
      provides: "Clean navigation config without deprecated flat exports"
  key_links:
    - from: "apps/web/src/components/layout/breadcrumb-nav.tsx"
      to: "apps/web/src/app/admin/automation/page.tsx"
      via: "segmentLabels mapping + PageHeader title"
      pattern: "Automation Hub"
---

<objective>
Clean up 4 non-blocking tech debt items identified in the v4 milestone audit.

Purpose: Eliminate dead code, naming inconsistencies, and orphaned files accumulated during v4 phases 24-27. These are all straightforward deletions and single-line fixes with zero functional impact.

Output: Clean codebase with no dead exports, no orphaned pages, and consistent naming across breadcrumb/sidebar/page-header for the automation route.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/milestones/v4-MILESTONE-AUDIT.md
@apps/web/src/components/layout/breadcrumb-nav.tsx
@apps/web/src/app/admin/automation/page.tsx
@apps/web/src/lib/spacing.ts
@apps/web/src/components/skeletons/card-grid-skeleton.tsx
@apps/web/src/lib/navigation.ts
@apps/web/src/app/admin/department-roles/page.tsx
@apps/web/src/app/admin/invites/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix naming inconsistency and remove dead code files</name>
  <files>
    apps/web/src/components/layout/breadcrumb-nav.tsx
    apps/web/src/lib/spacing.ts
    apps/web/src/components/skeletons/card-grid-skeleton.tsx
  </files>
  <action>
    1. In breadcrumb-nav.tsx, change the segmentLabels mapping for "automation" from "Collection" to "Automation Hub". This aligns the breadcrumb with:
       - The PageHeader title in /admin/automation/page.tsx ("Automation Hub")
       - The sidebar section label in navigation.ts ("Automation Hub")
       - The breadcrumb sub-item "Collection" is the nav item label, but the section/page is "Automation Hub"

    2. Delete the entire file apps/web/src/lib/spacing.ts. Confirmed: nothing imports SPACING, GAPS, SpacingKey, or GapKey from this file. All spacing values are applied inline as Tailwind classes. The JSDoc comment at the top of the file serves as documentation, but since it is never referenced, the file is pure dead code.

    3. Delete the entire file apps/web/src/components/skeletons/card-grid-skeleton.tsx. Confirmed: CardGridSkeleton is not imported by any page. No page uses a card-grid loading pattern. DashboardSkeleton and TableSkeleton are both actively used; CardGridSkeleton was created speculatively in Phase 26 but never wired in. If needed in the future, it can be recreated from the skeleton pattern.
  </action>
  <verify>
    Run: cd apps/web && npx tsc --noEmit
    Expect: Zero TypeScript errors (no file imports the deleted modules).

    Check breadcrumb: grep "automation" apps/web/src/components/layout/breadcrumb-nav.tsx
    Expect: automation: "Automation Hub"
  </verify>
  <done>
    - Breadcrumb for /admin/automation says "Automation Hub" (matching PageHeader + sidebar section)
    - lib/spacing.ts deleted (zero imports confirmed)
    - card-grid-skeleton.tsx deleted (zero imports confirmed)
    - TypeScript compiles cleanly
  </done>
</task>

<task type="auto">
  <name>Task 2: Remove orphaned pages and deprecated navigation exports</name>
  <files>
    apps/web/src/app/admin/department-roles/page.tsx
    apps/web/src/app/admin/invites/page.tsx
    apps/web/src/lib/navigation.ts
  </files>
  <action>
    1. Delete the file apps/web/src/app/admin/department-roles/page.tsx. This standalone page was orphaned by Phase 27 which consolidated Access Profiles into a modal (AccessProfilesModal) on the /admin/users page. The DepartmentRolesTable component it imported is still used by the modal -- only the standalone page route is dead.

    2. Delete the file apps/web/src/app/admin/invites/page.tsx. This standalone page was orphaned by Phase 27 which consolidated Invites into a modal (InvitesModal) on the /admin/users page. The InvitesList and InviteDialog components are still used by the modal -- only the standalone page route is dead.

    3. After deleting the page files, also delete the now-empty directories:
       - apps/web/src/app/admin/department-roles/
       - apps/web/src/app/admin/invites/

    4. In navigation.ts, remove the deprecated flat exports at the bottom of the file (lines 71-87). These are:
       - adminNavItems (deprecated, never imported)
       - vaNavItems (deprecated, never imported)
       - clientNavItems (deprecated, never imported)
       Remove from the comment "// Deprecated flat exports for backward compatibility" through the end of the file. Keep everything above (dashboardNavItem, sections, getVisibleSections).

    5. Also remove the breadcrumb segmentLabels entries that map to deleted pages. In breadcrumb-nav.tsx, remove:
       - "department-roles": "Access Profiles"
       - invites: "Manage Invites"
       These routes no longer exist, so their breadcrumb mappings are dead.
  </action>
  <verify>
    Run: cd apps/web && npx tsc --noEmit
    Expect: Zero TypeScript errors.

    Verify deleted: ls apps/web/src/app/admin/department-roles/ 2>&1
    Expect: "No such file or directory"

    Verify deleted: ls apps/web/src/app/admin/invites/ 2>&1
    Expect: "No such file or directory"

    Check navigation.ts has no deprecated exports:
    grep -c "deprecated" apps/web/src/lib/navigation.ts
    Expect: 0
  </verify>
  <done>
    - /admin/department-roles route removed (page + directory deleted)
    - /admin/invites route removed (page + directory deleted)
    - Deprecated flat nav exports (adminNavItems, vaNavItems, clientNavItems) removed from navigation.ts
    - Breadcrumb labels for deleted routes removed
    - TypeScript compiles cleanly
  </done>
</task>

</tasks>

<verification>
After both tasks complete:

1. TypeScript compilation: `cd apps/web && npx tsc --noEmit` -- zero errors
2. Dev server: `cd apps/web && npm run dev` -- starts without warnings
3. Navigate to /admin/automation -- breadcrumb shows "Admin > Automation Hub" (not "Admin > Collection")
4. Navigate to /admin/department-roles -- returns 404 (route deleted)
5. Navigate to /admin/invites -- returns 404 (route deleted)
6. Verify /admin/users still has Access Profiles and Invites modals (components NOT deleted, only standalone pages)
7. No remaining imports of deleted files: grep -r "spacing" apps/web/src/lib/ and grep -r "card-grid-skeleton" apps/web/src/
</verification>

<success_criteria>
- All 4 tech debt items from v4 milestone audit are resolved
- Zero TypeScript compilation errors
- Application runs without issues
- Naming is consistent: breadcrumb, sidebar, and PageHeader all say "Automation Hub" for the /admin/automation route
- No dead files or exports remain
</success_criteria>

<output>
After completion, create `.planning/phases/28.1-v4-tech-debt-cleanup/28.1-01-SUMMARY.md`
</output>
